{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","currentFilter","setFilter","react_default","a","createElement","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handlePerson","newNum","handleNum","type","Persons","persons","filter","person","name","toLowerCase","includes","map","key","number","onClick","handleDelete","id","baseUrl","services_persons","newObject","axios","post","then","response","data","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNum","_useState7","_useState8","_useState9","_useState10","notfMessage","setNotfMessage","useEffect","get","personService","message","className","components_Filter","event","target","components_PersonForm","p","preventDefault","window","confirm","uPerson","find","console","log","personObj","setTimeout","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.14fec129.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({currentFilter, setFilter}) => {\n  return (\n    <div> filter shown with <input value={currentFilter} onChange={setFilter}/></div>\n  );\n}\n\nexport default Filter\n","import React from 'react';\n\nconst PersonForm =  (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        name: <input value={props.newName} onChange={props.handlePerson}/>\n      </div>\n      <div>number: <input value={props.newNum} onChange={props.handleNum}/></div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n}\n\nexport default PersonForm\n","import React from 'react';\n\nconst Persons = (props) => {\n  return (\n    <div>\n    {props.persons.filter(person => person.name.toLowerCase().includes(props.currentFilter.toLowerCase()\n    )).map(person => (<p key={person.name}> {person.name} {person.number} <button onClick={() => props.handleDelete(person.id, person.name)}>Delete </button></p>))}\n    </div>\n  );\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, remove, baseUrl }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport axios from 'axios'\nimport personService from './services/persons'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n\n  const [ newNum, setNewNum ] = useState('')\n\n  const [ currentFilter, setFilter] = useState('')\n\n  const [notfMessage, setNotfMessage] = useState(null)\n\n  const addPerson = (event) => {\n    if (persons.map(p => p.name).includes(newName)){\n      event.preventDefault()\n      if (window.confirm(`${newName} is already added, replace the old number?`)){\n        const uPerson = persons.find((p) =>\n          p.name.toLowerCase() === newName.toLowerCase())\n        console.log(uPerson)\n        const personObj = {\n          name: newName,\n          number: newNum\n        }\n        personService\n          .update(uPerson.id, personObj)\n          .then((response) => {\n            setPersons(persons.map(person => person.id !== uPerson.id ? person : response))\n          })\n          setNotfMessage(\n            `Changed number for ${newName}.`\n          )\n          setTimeout(() => {\n            setNotfMessage(null)\n          }, 3000)\n\n      }\n    } else {\n      event.preventDefault()\n      const personObj = {\n        name: newName,\n        number: newNum\n      }\n      personService\n        .create(personObj)\n        .then((response) => {\n          setPersons(persons.concat(response))\n        })\n      setNotfMessage(\n        `Added ${newName}.`\n      )\n      setTimeout(() => {\n        setNotfMessage(null)\n      }, 3000)\n    //  setPersons(persons.concat(personObj))\n\n    }\n  }\n  const deletePerson = (id, name) => {\n      //console.log(name)\n      if (window.confirm(`Delete ${name}?`)){\n      personService\n        .remove(id)\n      setPersons(persons.filter((person) => person.id !== id))\n    }\n    setNotfMessage(\n      `Deleted ${name}`\n    )\n    setTimeout(() => {\n      setNotfMessage(null)\n    }, 3000)\n  }\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"notification\">\n        {message}\n        </div>\n    )\n  }\n\n  // Get data from json db\n  useEffect(() => {\n    axios\n    .get(personService.baseUrl)\n    .then(response => {\n      setPersons(response.data)\n    })\n  }, [])\n\n  const handlePerson = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNum = (event) => {\n    setNewNum(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notfMessage}/>\n      <Filter currentFilter={currentFilter} setFilter={handleFilter}/>\n      <h2> add a new </h2>\n      <PersonForm addPerson={addPerson} newName={newName} handlePerson={handlePerson}\n      newNum={newNum} handleNum={handleNum} />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} handleDelete={deletePerson} currentFilter={currentFilter} />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}